<!-- subscribe-list.component.html -->
<div class="card">
  <div class="card-header">
    <div class="row g-2">
      <div class="col-md-3">
        <div class="search-box">
          <input
            type="text"
            class="form-control search"
            placeholder="Rechercher..."
            
            (keyup.enter)="onSearch()"
          >
          <i class="ri-search-line search-icon"></i>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="table-responsive table-card">
      <table class="table table-nowrap table-striped-columns mb-0">
        <thead class="table-light">
          <tr>
            <th scope="col">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="selectAll">
                <label class="form-check-label" for="selectAll"></label>
              </div>
            </th>
            <th scope="col">ID</th>
            <th scope="col">Code Target</th>
            <th scope="col">Type Target</th>
            <th scope="col">Statut</th>
            <th scope="col">Numéro de Compte</th>
            <th scope="col">Solde</th>
            <th scope="col">Date Création</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let sub of subscriptions; let i = index">
            <td>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" [id]="'checkBox' + i">
                <label class="form-check-label" [for]="'checkBox' + i"></label>
              </div>
            </td>
            <td>{{ sub.id }}</td>
            <td>{{ sub.targCode }}</td>
            <td>
              <span
                class="badge"
                [ngClass]="{
                  'bg-success': sub.statutTarg === 'actived',
                  'bg-danger': sub.statutTarg !== 'actived'
                }"
              >
                {{ sub.typeTarg }}
              </span>
            </td>
            <td>{{ sub.statutTarg }}</td>
            <td>{{ sub.compte.accountNumber }}</td>
            <td>{{ sub.compte.solde | currency }}</td>
            <td>{{ sub.created_at | date:'short' }}</td>
            <td>
              <div class="dropdown">
                <button class="btn btn-soft-secondary btn-sm dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="ri-more-fill"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" href="javascript:void(0);">Détails</a></li>
                  <li><a class="dropdown-item" href="javascript:void(0);">Éditer</a></li>
                </ul>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
    <!-- <div class="d-flex justify-content-end mt-3">
      <ngb-pagination
        [collectionSize]="totalItems"
        [(page)]="currentPage"
        [pageSize]="itemsPerPage"
        (pageChange)="onPageChange($event)"
      ></ngb-pagination>
    </div> -->
  </div>
</div>

<!-- Loading et Erreur -->
<div *ngIf="loading" class="text-center">
  Chargement en cours...
</div>
<div *ngIf="error" class="alert alert-danger">
  {{ error }}
</div>
